function setContainerEnabledState(t,e){t.css({opacity:e?1:.5});var n=t.find("input");e?n.removeAttr("disabled"):n.attr("disabled","disabled")}function registerEnableStateCallback(t,e){jQuery(e).click(function(){var e=jQuery(this).is(":checked");setContainerEnabledState(t,e)})}jQuery(document).ready(function(){var t=jQuery.find(".optional-container");jQuery.each(t,function(t,e){var n=jQuery(e),c=n.attr("controlling-checkbox"),i='input[name="'+c+'"]',s=jQuery(i).is(":checked");setContainerEnabledState(n,s),registerEnableStateCallback(n,i)}),jQuery(".display-categories a.select-button").click(function(){var t=jQuery(this).hasClass("mhc-select");return jQuery(this).closest(".categories-container").find("input").each(function(){jQuery(this).attr("checked",t)}),!1}),jQuery(".option-display-type").change(function(){var t=jQuery(this).parents(".mhc-content-sections");"default_loop"==jQuery(this).find("option:selected").val()?(jQuery(t).find(".display-categories").hide(),jQuery(t).find(".display-posts").hide()):(jQuery(t).find(".display-categories").show(),jQuery(t).find(".display-posts").show())}),jQuery("#mhc-add-content-section a").click(function(){var t=jQuery(".mhc-content-sections:eq(0)").clone();jQuery(".mhc-content-sections:last").after(t),jQuery(".mhc-content-sections:last input[type=text]").val(""),jQuery(".mhc-content-sections:last textarea").val(""),jQuery(".mhc-content-sections:last input[type=checkbox]").attr("checked",!1);var e=new Date;return e=e.getTime(),jQuery(".mhc-content-sections:last .display-types select").attr("name","mhc-display-type-"+e).attr("id","mhc-display-type-"+e),jQuery(".mhc-content-sections:last .display-titles input").attr("name","mhc-section-title-"+e).attr("id","mhc-section-title-"+e),jQuery(".mhc-content-sections:last .display-captions textarea").attr("name","mhc-section-caption-"+e).attr("id","mhc-section-caption-"+e),jQuery(".mhc-content-sections:last .display-posts input").attr("name","mhc-section-num-posts-"+e).attr("id","mhc-section-num-posts-"+e),jQuery(".mhc-content-sections:last .categorychecklist input").each(function(){var t=jQuery(this);t.attr("name","post_category-"+e+"[]"),t.attr("id",t.attr("id")+"-"+e)}),jQuery(".mhc-content-sections").length>1?(jQuery(".mhc-handle").show(),jQuery(".mhc-handle:first").after('<p class="dragdrop">'+admin_strings.drag_section_instruction+"</p>"),jQuery("#mhc-content-sections").sortable("refresh")):jQuery(".mhc-handle").hide(),!1}),jQuery("a.mhc-content-section-delete").click(function(){if(confirm(admin_strings.delete_section_alert)){var t;t=jQuery(this).parent().parent(),t.slideUp(function(){t.remove(),jQuery(".mhc-content-sections").length>1?(jQuery(".mhc-handle").show(),jQuery(".mhc-handle:first").after('<p class="dragdrop">'+admin_strings.drag_section_instruction+"</p>"),jQuery("#mhc-content-sections").sortable("refresh")):jQuery(".mhc-handle").hide()})}return!1}),jQuery(".mhc-content-sections").each(function(){"default_loop"==jQuery(this).find(".option-display-type option:selected").val()?(jQuery(this).find(".display-categories").hide(),jQuery(this).find(".display-posts").hide()):(jQuery(this).find(".display-categories").show(),jQuery(this).find(".display-posts").show()),"default"==jQuery(this).attr("id")||jQuery(this).hasClass("mhc-content-section-default")||(mhchash=jQuery(this).attr("id").replace("mhc-street-section-",""),jQuery(this).find(".categorychecklist input").each(function(){mhccat=jQuery(this),mhccat.attr("name","post_category-"+mhchash+"[]"),mhccat.attr("id",mhccat.attr("id")+"-"+mhchash)}))}),jQuery(".mhc-content-sections").length>1?(jQuery(".mhc-handle:first").after('<p class="dragdrop">'+admin_strings.drag_section_instruction+"</p>"),jQuery(function(){jQuery("#mhc-content-sections").sortable({axis:"y",containment:"parent",forceHelperSize:!0,helper:"clone",opacity:.6}),jQuery("#mhc-content-sections").disableSelection()})):jQuery(".mhc-handle").hide()});